{"version":3,"file":"page-9.js","sources":["../src/js/page09.js"],"sourcesContent":["console.log('page 09');\n\nconst list = document.querySelector('ul.js-list');\nconst loadMore = document.querySelector('[type=\"button\"]');\nlet currentPage = 1;\n\nloadMore.addEventListener('click', onLoad);\n\n// console.log(list);\n// console.log(button);\n\nfunction onLoad(){\n    currentPage +=1 ;\n    getTrending(currentPage)\n    .then(data=>{\n    markUp(data.results)\n}\n)\n    .catch(err=>console.log(err));\n}\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst ENDPOINT = 'trending/movie/day';\nconst API_KEY = '3af5fd0b838bf2a259ff06cb75968037';\n\nfunction getTrending(page=1){\n    return fetch(`${BASE_URL}${ENDPOINT}?api_key=${API_KEY}&page=${page}`).then((resp)=>{\n        if(!resp.ok){\n            throw new Error(resp.statusText);\n        }\n        return resp.json();\n    })\n}\ngetTrending().then(data=>{\n    // console.log(data.results[0].poster_path);\n    console.log(data.results);\n    markUp(data.results);\n\n})\n.catch(err=>console.log(err));\n\nfunction markUp(arr){\n    let draft = null;\n    draft = arr.map(({poster_path, title})=>{\n//    console.log(poster_path)\n//////there is an image width in the endpoint     \n      return   `\n         <li class=\"box_09\">\n<img src=\"https://image.tmdb.org/t/p/w400${poster_path}\" title=${title}>\n            <h2>${title}<h2>\n         </li>\n    `\n    }\n)\n    return list.insertAdjacentHTML('beforeend', draft);\n}\n"],"names":["list","loadMore","currentPage","onLoad","getTrending","data","markUp","err","BASE_URL","ENDPOINT","API_KEY","page","resp","arr","draft","poster_path","title"],"mappings":"oCAAA,QAAQ,IAAI,SAAS,EAErB,MAAMA,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAW,SAAS,cAAc,iBAAiB,EACzD,IAAIC,EAAc,EAElBD,EAAS,iBAAiB,QAASE,CAAM,EAKzC,SAASA,GAAQ,CACbD,GAAc,EACdE,EAAYF,CAAW,EACtB,KAAKG,GAAM,CACZC,EAAOD,EAAK,OAAO,CACvB,CACA,EACK,MAAME,GAAK,QAAQ,IAAIA,CAAG,CAAC,CAChC,CAEA,MAAMC,EAAW,gCACXC,EAAW,qBACXC,EAAU,mCAEhB,SAASN,EAAYO,EAAK,EAAE,CACxB,OAAO,MAAM,GAAGH,CAAQ,GAAGC,CAAQ,YAAYC,CAAO,SAASC,CAAI,EAAE,EAAE,KAAMC,GAAO,CAChF,GAAG,CAACA,EAAK,GACL,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEnC,OAAOA,EAAK,KAAM,CACrB,CAAA,CACL,CACAR,EAAa,EAAC,KAAKC,GAAM,CAErB,QAAQ,IAAIA,EAAK,OAAO,EACxBC,EAAOD,EAAK,OAAO,CAEvB,CAAC,EACA,MAAME,GAAK,QAAQ,IAAIA,CAAG,CAAC,EAE5B,SAASD,EAAOO,EAAI,CAChB,IAAIC,EAAQ,KACZ,OAAAA,EAAQD,EAAI,IAAI,CAAC,CAAC,YAAAE,EAAa,MAAAC,CAAK,IAGzB;AAAA;AAAA,2CAE4BD,CAAW,WAAWC,CAAK;AAAA,kBACpDA,CAAK;AAAA;AAAA,KAIvB,EACWhB,EAAK,mBAAmB,YAAac,CAAK,CACrD"}