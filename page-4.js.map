{"version":3,"file":"page-4.js","sources":["../src/js/news-service.js","../src/js/markup.js","../src/js/page04.js"],"sourcesContent":["export default class NewsApiService{\n    constructor(){\n        this.searchQuery='';\n        this.page = 1;\n\n    }\n    fetchArticles(){\n        console.log(this);\n        const options = {\n    headers: {\n        Authorization: 'c7cfa9764acc40e0977baf4dd8dae782',\n    }\n};\n    const url = `https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\n   \n    // console.log('Hi!');\n        return fetch(url, options)\n            .then(r => r.json())\n            .then(data=>{\n                // console.log(data);\n                this.incrementPage();\n\n                return data.articles;\n            });\n    }\n\n    incrementPage(){\n        this.page += 1;\n    }\n\n    resetPage(){\n        this.page = 1;\n    }\n\n    get query(){\n        return this.searchQuery;\n    }\n    set query(newQuery){\n        this.searchQuery = newQuery;\n    }\n}","const refsMar = {\n    articlesContainer: document.querySelector('.js-articles-container'),\n};\n// console.log(refsMar.articlesContainer);\n\nexport function appendArticlesMarkup(articles){\n     const markUp = `\n        <li>\n            <a href=\"${articles.url}\" target =\"blank\" rel=\"noopener noreferrer\">\n                <article>\n                    <img src=\"${articles.urlToImage}\" alt=\"\" width=\"480\">\n                    <h2>${articles.title}</h2>\n                    <p>Posted by: ${articles.author}</p>\n                    <p>${articles.description}</p>\n                </article>\n            </a>\n        </li>\n`;\n\nreturn refsMar.articlesContainer.insertAdjacentHTML('beforeend', markUp);\n}\n\n","console.log('page 04');\n\n// default export\nimport  NewsApiService  from './news-service';\nimport { appendArticlesMarkup as appendArticlesMarkUp }  from './markup.js';\n// console.log(NewsApiService);\n// console.log(draftUp);\n\nconst refs = {\n    searchForm: document.querySelector('.js-search-form'),\n    // articlesContainer: document.querySelector('.js-articles-container'),\n    loadMoreBtn: document.querySelector('[data-action=\"load-more\"]'),\n};\n\n// console.log(refs.searchForm);\n// console.log(refs.articlesContainer);\n// console.log(refs.loadMoreBtn);\n\nconst newsApiService = new NewsApiService();\n\n// const options = {\n//     headers: {\n//         Authorization: 'c7cfa9764acc40e0977baf4dd8dae782',\n//     }\n// };\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e){\n    e.preventDefault();\n\n    newsApiService.query = e.currentTarget.elements.query.value;\n     newsApiService.resetPage();\n    // const url = `https://newsapi.org/v2/everything?q=${searchQuery}&language=en&pageSize=5&page=1`;\n   \n    // console.log('Hi!');\n    // fetch(url, options)\n    // .then(r => r.json()).then(console.log());\n\n    newsApiService.fetchArticles().then(articles=>{\n        console.log(articles[0].url);\n        console.log(articles[0].urlToImage);\n        const arrMarkUp = articles.map(appendArticlesMarkUp);\n        \n        console.log(arrMarkUp);\n\n    });\n}\n\nfunction onLoadMore(){\n    newsApiService.fetchArticles().then(articles=>console.log(articles));\n}\n\n\n\n\n\n\n\n"],"names":["NewsApiService","options","url","r","data","newQuery","refsMar","appendArticlesMarkup","articles","markUp","refs","newsApiService","onSearch","onLoadMore","arrMarkUp","appendArticlesMarkUp"],"mappings":"oCAAe,MAAMA,CAAc,CAC/B,aAAa,CACT,KAAK,YAAY,GACjB,KAAK,KAAO,CAEpB,CACI,eAAe,CACX,QAAQ,IAAI,IAAI,EAChB,MAAMC,EAAU,CACpB,QAAS,CACL,cAAe,kCACvB,CACA,EACUC,EAAM,uCAAuC,KAAK,WAAW,gCAAgC,KAAK,IAAI,GAGxG,OAAO,MAAMA,EAAKD,CAAO,EACpB,KAAKE,GAAKA,EAAE,KAAM,CAAA,EAClB,KAAKC,IAEF,KAAK,cAAe,EAEbA,EAAK,SACf,CACb,CAEI,eAAe,CACX,KAAK,MAAQ,CACrB,CAEI,WAAW,CACP,KAAK,KAAO,CACpB,CAEI,IAAI,OAAO,CACP,OAAO,KAAK,WACpB,CACI,IAAI,MAAMC,EAAS,CACf,KAAK,YAAcA,CAC3B,CACA,CCxCA,MAAMC,EAAU,CACZ,kBAAmB,SAAS,cAAc,wBAAwB,CACtE,EAGO,SAASC,EAAqBC,EAAS,CACzC,MAAMC,EAAS;AAAA;AAAA,uBAEGD,EAAS,GAAG;AAAA;AAAA,gCAEHA,EAAS,UAAU;AAAA,0BACzBA,EAAS,KAAK;AAAA,oCACJA,EAAS,MAAM;AAAA,yBAC1BA,EAAS,WAAW;AAAA;AAAA;AAAA;AAAA,EAM7C,OAAOF,EAAQ,kBAAkB,mBAAmB,YAAaG,CAAM,CACvE,CCpBA,QAAQ,IAAI,SAAS,EAQrB,MAAMC,EAAO,CACT,WAAY,SAAS,cAAc,iBAAiB,EAEpD,YAAa,SAAS,cAAc,2BAA2B,CACnE,EAMMC,EAAiB,IAAIX,EAQ3BU,EAAK,WAAW,iBAAiB,SAAUE,CAAQ,EACnDF,EAAK,YAAY,iBAAiB,QAASG,CAAU,EAErD,SAASD,EAAS,EAAE,CAChB,EAAE,eAAgB,EAElBD,EAAe,MAAQ,EAAE,cAAc,SAAS,MAAM,MACrDA,EAAe,UAAW,EAO3BA,EAAe,cAAa,EAAG,KAAKH,GAAU,CAC1C,QAAQ,IAAIA,EAAS,CAAC,EAAE,GAAG,EAC3B,QAAQ,IAAIA,EAAS,CAAC,EAAE,UAAU,EAClC,MAAMM,EAAYN,EAAS,IAAIO,CAAoB,EAEnD,QAAQ,IAAID,CAAS,CAE7B,CAAK,CACL,CAEA,SAASD,GAAY,CACjBF,EAAe,cAAa,EAAG,KAAKH,GAAU,QAAQ,IAAIA,CAAQ,CAAC,CACvE"}