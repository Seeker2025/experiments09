{"version":3,"file":"page-04.js","sources":["../src/js/news-service.js","../src/js/loadMoreBtn.js","../src/js/markup.js","../src/js/page04.js"],"sourcesContent":["const API_KEY =  'c7cfa9764acc40e0977baf4dd8dae782';\nconst base_URL = 'https://newsapi.org/v2/';\n\nexport default class NewsApiService{\n    constructor(){\n        this.searchQuery='';\n        this.page = 1;\n    }\n    fetchArticles(){\n        console.log(this);\n        const options = {\n    headers: {\n        Authorization: API_KEY,\n    }\n};\nconst url = `${base_URL}everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\n   \n    // console.log('Hi!');\n        return fetch(url, options)\n            .then(r => r.json())\n            .then(data=>{\n                // console.log(data);\n                this.incrementPage();\n\n                return data.articles;\n            });\n    }\n\n    incrementPage(){\n        this.page += 1;\n    }\n\n    resetPage(){\n        this.page = 1;\n    }\n\n    get query(){\n        return this.searchQuery;\n    }\n    set query(newQuery){\n        this.searchQuery = newQuery;\n    }\n}","export default class LoadMoreBtn{\n    constructor({selector, hidden = false}){\n        this.refs = this.getRefs(selector);\n        hidden && this.hide();\n    }\n    getRefs(selector){\n        const refs = {};\n        refs.button = document.querySelector(selector);\n\n        return refs;\n    }\n\n    show(){\n        this.refs.button.classList.remove('is-hidden');\n    }\n    hide(){\n        this.refs.button.classList.add('is-hidden');\n    }\n}","import '../css/one_card.css';\n\nexport {appendArticlesMarkup, clearArticlesContainer};\n\nconst refsMar = {\n    articlesContainer: document.querySelector('.js-articles-container'),\n};\n// console.log(refsMar.articlesContainer);\n\n function appendArticlesMarkup(articles){\n     const markUp = `\n        <li class=\"li_back\">\n            <a href=\"${articles.url}\" target =\"blank\" rel=\"noopener noreferrer\">\n                <article>\n                    <img src=\"${articles.urlToImage}\" alt=\"\" width=\"480\" >\n                    <h2 class=\"title_h2\">${articles.title}</h2>\n                    <p>Posted by: ${articles.author}</p>\n                    <p>${articles.description}</p>\n                </article>\n            </a>\n        </li>\n`;\n\nreturn refsMar.articlesContainer.insertAdjacentHTML('beforeend', markUp);\n}\n\nfunction clearArticlesContainer(){\n    refsMar.articlesContainer.innerHTML = '';\n}\n","console.log('page 04');\n\n// default export\nimport NewsApiService  from './news-service';\nimport LoadMoreBtn from './loadMoreBtn.js';\n//named import and renaming function\nimport { \n            appendArticlesMarkup as appendArticlesMarkUp,\n            clearArticlesContainer \n        }  from './markup.js';\n// console.log(NewsApiService);\n// console.log(draftUp);\n// console.log(clearArticlesContainer);\n// console.log(LoadMoreBtn);\n\nconst refs = {\n    searchForm: document.querySelector('.js-search-form'),\n    // articlesContainer: document.querySelector('.js-articles-container'),\n    loadMoreBtn: document.querySelector('[data-action=\"load-more\"]'),\n};\n\n// console.log(refs.searchForm);\n// console.log(refs.articlesContainer);\n// console.log(refs.loadMoreBtn);\n\nconst newsApiService = new NewsApiService();\nconst loadMoreBtn = new LoadMoreBtn({\n    selector: '[data-action=\"load-more\"]',\n    hidden: true,\n});\n// console.log(loadMoreBtn);\n// console.log(loadMoreBtn.refs);\n// console.log(loadMoreBtn.refs.button);\n\n// const options = {\n//     headers: {\n//         Authorization: 'c7cfa9764acc40e0977baf4dd8dae782',\n//     }\n// };\n// loadMoreBtn.hide();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e){\n    e.preventDefault();\n\n    clearArticlesContainer();\n    newsApiService.query = e.currentTarget.elements.query.value;\n    newsApiService.resetPage();\n\n    if(newsApiService.query === ' '){\n        return alert('Введіть щось');\n    }\n    // const url = `https://newsapi.org/v2/everything?q=${searchQuery}&language=en&pageSize=5&page=1`;\n   \n    // console.log('Hi!');\n    // fetch(url, options)\n    // .then(r => r.json()).then(console.log());\n\n    newsApiService.fetchArticles().then(articles=>{\n        // console.log(articles[0].url);\n        // console.log(articles[0].urlToImage);\n         articles.map(itm =>{\n            appendArticlesMarkUp(itm);\n            loadMoreBtn.show();\n    }\n        \n    )});\n}\n\nfunction onLoadMore(){\n    newsApiService.fetchArticles().then(articles=>{\n            articles.map(itm =>{\n            appendArticlesMarkUp(itm);\n    }\n\n    )});\n}\n\n\n\n\n\n\n\n\n"],"names":["API_KEY","base_URL","NewsApiService","options","url","r","data","newQuery","LoadMoreBtn","selector","hidden","refs","refsMar","appendArticlesMarkup","articles","markUp","clearArticlesContainer","newsApiService","loadMoreBtn","onSearch","onLoadMore","e","itm","appendArticlesMarkUp"],"mappings":"oCAAA,MAAMA,EAAW,mCACXC,EAAW,0BAEF,MAAMC,CAAc,CAC/B,aAAa,CACT,KAAK,YAAY,GACjB,KAAK,KAAO,CACpB,CACI,eAAe,CACX,QAAQ,IAAI,IAAI,EAChB,MAAMC,EAAU,CACpB,QAAS,CACL,cAAeH,CACvB,CACA,EACMI,EAAM,GAAGH,CAAQ,gBAAgB,KAAK,WAAW,gCAAgC,KAAK,IAAI,GAGxF,OAAO,MAAMG,EAAKD,CAAO,EACpB,KAAKE,GAAKA,EAAE,KAAM,CAAA,EAClB,KAAKC,IAEF,KAAK,cAAe,EAEbA,EAAK,SACf,CACb,CAEI,eAAe,CACX,KAAK,MAAQ,CACrB,CAEI,WAAW,CACP,KAAK,KAAO,CACpB,CAEI,IAAI,OAAO,CACP,OAAO,KAAK,WACpB,CACI,IAAI,MAAMC,EAAS,CACf,KAAK,YAAcA,CAC3B,CACA,CC1Ce,MAAMC,CAAW,CAC5B,YAAY,CAAC,SAAAC,EAAU,OAAAC,EAAS,EAAK,EAAE,CACnC,KAAK,KAAO,KAAK,QAAQD,CAAQ,EACjCC,GAAU,KAAK,KAAM,CAC7B,CACI,QAAQD,EAAS,CACb,MAAME,EAAO,CAAE,EACf,OAAAA,EAAK,OAAS,SAAS,cAAcF,CAAQ,EAEtCE,CACf,CAEI,MAAM,CACF,KAAK,KAAK,OAAO,UAAU,OAAO,WAAW,CACrD,CACI,MAAM,CACF,KAAK,KAAK,OAAO,UAAU,IAAI,WAAW,CAClD,CACA,CCdA,MAAMC,EAAU,CACZ,kBAAmB,SAAS,cAAc,wBAAwB,CACtE,EAGC,SAASC,EAAqBC,EAAS,CACnC,MAAMC,EAAS;AAAA;AAAA,uBAEGD,EAAS,GAAG;AAAA;AAAA,gCAEHA,EAAS,UAAU;AAAA,2CACRA,EAAS,KAAK;AAAA,oCACrBA,EAAS,MAAM;AAAA,yBAC1BA,EAAS,WAAW;AAAA;AAAA;AAAA;AAAA,EAM7C,OAAOF,EAAQ,kBAAkB,mBAAmB,YAAaG,CAAM,CACvE,CAEA,SAASC,GAAwB,CAC7BJ,EAAQ,kBAAkB,UAAY,EAC1C,CC5BA,QAAQ,IAAI,SAAS,EAerB,MAAMD,EAAO,CACT,WAAY,SAAS,cAAc,iBAAiB,EAEpD,YAAa,SAAS,cAAc,2BAA2B,CACnE,EAMMM,EAAiB,IAAIf,EACrBgB,EAAc,IAAIV,EAAY,CAChC,SAAU,4BACV,OAAQ,EACZ,CAAC,EAYDG,EAAK,WAAW,iBAAiB,SAAUQ,CAAQ,EACnDR,EAAK,YAAY,iBAAiB,QAASS,CAAU,EAErD,SAASD,EAASE,EAAE,CAOhB,GANAA,EAAE,eAAgB,EAElBL,EAAwB,EACxBC,EAAe,MAAQI,EAAE,cAAc,SAAS,MAAM,MACtDJ,EAAe,UAAW,EAEvBA,EAAe,QAAU,IACxB,OAAO,MAAM,cAAc,EAQ/BA,EAAe,cAAa,EAAG,KAAKH,GAAU,CAGzCA,EAAS,IAAIQ,GAAM,CAChBC,EAAqBD,CAAG,EACxBJ,EAAY,KAAM,CAC9B,CAEA,CAAK,CAAC,CACN,CAEA,SAASE,GAAY,CACjBH,EAAe,cAAa,EAAG,KAAKH,GAAU,CACtCA,EAAS,IAAIQ,GAAM,CACnBC,EAAqBD,CAAG,CACpC,CAEA,CAAK,CAAC,CACN"}